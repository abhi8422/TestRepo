name: Release Tag

# Controls when the action will run. Triggers the workflow on push tag happens
on:
  push:
    tags: 
      - '[0-9]+.[0-9]+.[0-9]+'
# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  # This workflow contains a single job called "build"
  build:
    runs-on: ubuntu-18.04
    name: Generate Release Name
    
    steps:
    - name: Commit Latest version
      run: |
        latest_version="$(git describe --match "[0-9]*\.[0-9]*\.[0-9]*"
        --abbrev=0 --tags)"
        change_to="versionName "\"$latest_version"\""
        sed -i "0./versionName/{s/.*versionName.*/$change_to/}"
            buffer-android-app/build.gradle
        git commit -m "Version release for $latest_version" -a
        
    - name: Push changes
      uses: ad-m/github-push-action@master
      with:
        branch: release
        github_token: ${{ secrets.GITHUB_TOKEN }}    
       
       
       
       
       
       
       
       
       
       
       
       
       
       
       
       
       
       
       
       
       
